;
; Project1-1.asm
;
; Created: 3/24/2019 6:06:13 PM
; Author : warho
;


; Replace with your application code



.org 0

    LDI R16, 0xFF
	OUT DDRC, R16
	OUT DDRD, R16
	CBI DDRB, 0
	SBI PORTB, 0
	CBI DDRB, 1
	SBI PORTB, 1
	CBI DDRB, 2
	SBI PORTB, 2

	LDI R20, 0x00

START:
	SBIC PINB, 0
	RJMP INCREMENT_PRESS
	SBIC PINB, 1
	RJMP DECREMENT_PRESS
	SBIC PINB, 2
	RJMP BUZZ
	RJMP START

INCREMENT_PRESS:
	SBIS PINB, 0
	RJMP INCREMENT
	RJMP INCREMENT_PRESS

INCREMENT:
	INC R20
	OUT PORTC, R20
	RJMP START

DECREMENT_PRESS:
	SBIS PINB, 1
	RJMP DECREMENT
	RJMP DECREMENT_PRESS

DECREMENT:
	DEC R20
	OUT PORTC, R20
	RJMP START

BUZZ:
	SBI PORTD, 0
	RCALL DELAY1
	NOP
	NOP
	CBI PORTD, 0
	RCALL DELAY1
	SBIC PINB, 2
	RJMP BUZZ
	RJMP START

DELAY1:
	LDI R17, 100
LOOP12:
	LDI R18, 13
LOOP11:
	DEC R18
	BRNE LOOP11
	DEC R17
	BRNE LOOP12
	RET
